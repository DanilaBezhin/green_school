const burger=document.querySelector(".burgermenu"),menu=document.querySelector(".header-menu");burger.addEventListener("click",function(){this.classList.toggle("active"),menu.classList.toggle("active")});const accordion_items=document.querySelectorAll(".section2-accordion-py .section2-accordion-item");accordion_items.forEach(e=>{e.addEventListener("click",function(){accordion_items.forEach(e=>{e.classList.remove("active")}),e.classList.add("active")})});const accordion_items_sc=document.querySelectorAll(".section2-accordion-sc .section2-accordion-item");accordion_items_sc.forEach(e=>{e.addEventListener("click",function(){accordion_items_sc.forEach(e=>{e.classList.remove("active")}),e.classList.add("active")})});const arrowUp=document.querySelector(".arrow-up");function disableScroll(){document.body.classList.add("no-scroll"),window.addEventListener("wheel",preventScroll,{passive:!1}),window.addEventListener("touchmove",preventScroll,{passive:!1})}function enableScroll(){document.body.classList.remove("no-scroll"),window.removeEventListener("wheel",preventScroll),window.removeEventListener("touchmove",preventScroll)}function preventScroll(e){e.preventDefault()}document.addEventListener("scroll",()=>{let e=window.scrollY,t=window.innerHeight;e>t?arrowUp.classList.add("active"):arrowUp.classList.remove("active")}),arrowUp.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),document.addEventListener("DOMContentLoaded",()=>{let e=new Glide(".glide-primary",{type:"carousel",focusAt:"center",perView:6,gap:10,autoplay:2600,hoverpause:!0,animationDuration:1400,peek:{before:100,after:100},breakpoints:{2200:{perView:5},1500:{perView:4},1200:{perView:3},950:{perView:2},576:{perView:1},430:{perView:1,peek:{before:35,after:35}},360:{perView:1,peek:{before:20,after:20}}}});e.mount()}),document.addEventListener("DOMContentLoaded",()=>{let e=new Glide(".glide-secondary",{type:"carousel",focusAt:"center",perView:4,gap:20,autoplay:5e3,hoverpause:!0,animationDuration:1400,peek:{before:100,after:100},breakpoints:{2200:{perView:3},1400:{perView:2},1e3:{perView:1},650:{perView:1},576:{perView:1},430:{perView:1,peek:{before:35,after:35}},360:{perView:1,peek:{before:20,after:20}}}});e.mount()}),document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("phoneNumber"),t=document.getElementById("countryCode");function r(){let r=t.options[t.selectedIndex],o=r.getAttribute("data-mask");Inputmask({mask:o,placeholder:"_"}).mask(e)}r(),t.addEventListener("change",function(){e.value="",r()})}),document.getElementById("contact-form").addEventListener("submit",function(e){e.preventDefault();let t=document.querySelectorAll('input[name="contact"]'),r=Array.from(t).some(e=>e.checked);if(!r){alert("Пожалуйста, выберите хотя бы один способ связи!");return}let o=document.querySelectorAll('input[name="contact"]:checked'),n=[];o.forEach(e=>n.push(e.value));let c=document.querySelector('input[name="contact"]');c||((c=document.createElement("input")).type="hidden",c.name="contact",this.appendChild(c)),c.value=n.join(", "),emailjs.sendForm("green_school_service_id","template_05wdj4x",this).then(()=>{alert("Сообщение успешно отправлено!"),this.reset()},e=>{console.error("Ошибка отправки:",e),alert(`Ошибка отправки:${e.text||"Попробуйте еще раз."}`)})}),window.addEventListener("load",function(){let e=document.querySelector(".preloader");setTimeout(()=>{enableScroll(),e.style.opacity="0",e.addEventListener("transitionend",()=>e.remove())},0),disableScroll(),AOS.init()});